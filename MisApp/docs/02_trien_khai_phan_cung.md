# 2. TRIá»‚N KHAI PHáº¦N Cá»¨NG

## 2.1. Tá»”NG QUAN LINH KIá»†N PHáº¦N Cá»¨NG

MIS Smart Assistant sá»­ dá»¥ng vi Ä‘iá»u khiá»ƒn ESP32 lÃ m trung tÃ¢m xá»­ lÃ½ chÃ­nh, káº¿t há»£p vá»›i cÃ¡c module cáº£m biáº¿n vÃ  thiáº¿t bá»‹ hiá»ƒn thá»‹ Ä‘á»ƒ táº¡o thÃ nh má»™t há»‡ thá»‘ng IoT hoÃ n chá»‰nh. Há»‡ thá»‘ng pháº§n cá»©ng Ä‘Æ°á»£c thiáº¿t káº¿ vá»›i nguyÃªn táº¯c:

- **TÃ­nh á»•n Ä‘á»‹nh**: Äáº£m báº£o hoáº¡t Ä‘á»™ng liÃªn tá»¥c vÃ  á»•n Ä‘á»‹nh
- **Dá»… láº¯p rÃ¡p**: Sá»­ dá»¥ng breadboard vÃ  jumper wires Ä‘á»ƒ dá»… dÃ ng thá»±c hiá»‡n
- **Chi phÃ­ tháº¥p**: Sá»­ dá»¥ng cÃ¡c linh kiá»‡n phá»• biáº¿n vÃ  giÃ¡ thÃ nh há»£p lÃ½
- **Kháº£ nÄƒng má»Ÿ rá»™ng**: CÃ³ thá»ƒ bá»• sung thÃªm cáº£m biáº¿n vÃ  thiáº¿t bá»‹

### Kiáº¿n trÃºc pháº§n cá»©ng tá»•ng thá»ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ESP32 DevKit V1             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚        Dual-core 240MHz CPU            â”‚â”‚
â”‚  â”‚        520KB RAM + 4MB Flash           â”‚â”‚
â”‚  â”‚        Wi-Fi + Bluetooth               â”‚â”‚
â”‚  â”‚        32 GPIO pins                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         â”‚         â”‚
        â–¼         â–¼         â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Sensors  â”‚ â”‚LEDs â”‚ â”‚ Display  â”‚
   â”‚          â”‚ â”‚     â”‚ â”‚          â”‚
   â”‚ KY-038   â”‚ â”‚RGB  â”‚ â”‚LCD 16x2  â”‚
   â”‚ Button   â”‚ â”‚LEDs â”‚ â”‚I2C       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2.2. Báº¢NG CHI TIáº¾T LINH KIá»†N

### A. Microcontroller vÃ  linh kiá»‡n chÃ­nh

| STT | TÃªn linh kiá»‡n | MÃ´ táº£ chi tiáº¿t | Sá»‘ lÆ°á»£ng | Chá»©c nÄƒng |
|-----|---------------|----------------|----------|-----------|
| 1 | **ESP32 DevKit V1** | Vi Ä‘iá»u khiá»ƒn 32-bit dual-core, WiFi + Bluetooth, 32 GPIO pins | 1 | Trung tÃ¢m xá»­ lÃ½ chÃ­nh, káº¿t ná»‘i Wi-Fi, xá»­ lÃ½ tÃ­n hiá»‡u |
| 2 | **Breadboard** | Breadboard 830 holes (half-size) | 1 | Ná»n táº£ng láº¯p rÃ¡p máº¡ch Ä‘iá»‡n |
| 3 | **Jumper Wires** | DÃ¢y jumper Male-to-Male, Female-to-Female | 1 set | Káº¿t ná»‘i cÃ¡c linh kiá»‡n |
| 4 | **Äiá»‡n trá»Ÿ 220Î©** | Äiá»‡n trá»Ÿ carbon 1/4W, tolerance 5% | 4 | Háº¡n cháº¿ dÃ²ng Ä‘iá»‡n cho LED |
| 5 | **CÃ¡p USB Type-C** | CÃ¡p USB-A to Type-C, dÃ i 1-2m | 1 | Cáº¥p nguá»“n vÃ  programming |

### B. Thiáº¿t bá»‹ Ä‘áº§u vÃ o (Input Devices)

| STT | TÃªn linh kiá»‡n | ThÃ´ng sá»‘ ká»¹ thuáº­t | Sá»‘ lÆ°á»£ng | Chá»©c nÄƒng |
|-----|---------------|-------------------|----------|-----------|
| 6 | **Cáº£m biáº¿n Ã¢m thanh KY-038** | - Äiá»‡n Ã¡p: 3.3V-5V<br>- Äá»™ nháº¡y: Ä‘iá»u chá»‰nh Ä‘Æ°á»£c<br>- Output: Digital (DO), Analog (AO)<br>- KÃ­ch thÆ°á»›c: 32 x 17mm | 1 | PhÃ¡t hiá»‡n Ã¢m thanh Ä‘á»ƒ kÃ­ch hoáº¡t voice control |
| 7 | **NÃºt nháº¥n 4 chÃ¢n** | - Loáº¡i: Tactile Push Button<br>- Äiá»‡n Ã¡p: 3.3V<br>- KÃ­ch thÆ°á»›c: 6x6x5mm<br>- Life cycle: 100,000 láº§n nháº¥n | 1 | KÃ­ch hoáº¡t microphone thá»§ cÃ´ng, Ä‘iá»u khiá»ƒn há»‡ thá»‘ng |

**Chi tiáº¿t cáº£m biáº¿n KY-038:**
- **Microphone**: Electret condenser microphone
- **LM393 comparator**: So sÃ¡nh tÃ­n hiá»‡u analog vá»›i ngÆ°á»¡ng
- **Potentiometer**: Äiá»u chá»‰nh Ä‘á»™ nháº¡y (sensitivity)
- **LED indicator**: BÃ¡o hiá»‡u khi phÃ¡t hiá»‡n Ã¢m thanh
- **ChÃ¢n káº¿t ná»‘i**: VCC, GND, DO (Digital Out), AO (Analog Out)

### C. Thiáº¿t bá»‹ Ä‘áº§u ra (Output Devices)

| STT | TÃªn linh kiá»‡n | ThÃ´ng sá»‘ ká»¹ thuáº­t | Sá»‘ lÆ°á»£ng | Chá»©c nÄƒng |
|-----|---------------|-------------------|----------|-----------|
| 8 | **MÃ n hÃ¬nh LCD I2C 16x2** | - KÃ­ch thÆ°á»›c: 16 kÃ½ tá»± x 2 dÃ²ng<br>- Giao tiáº¿p: I2C (SDA, SCL)<br>- Äiá»‡n Ã¡p: 5V<br>- Äá»‹a chá»‰ I2C: 0x27 hoáº·c 0x3F<br>- Backlight: Blue vá»›i kÃ½ tá»± tráº¯ng | 1 | Hiá»ƒn thá»‹ tráº¡ng thÃ¡i há»‡ thá»‘ng, thÃ´ng tin thá»i gian thá»±c |
| 9 | **LED RGB - Äá»** | - Äiá»‡n Ã¡p: 2.0-2.2V<br>- DÃ²ng Ä‘iá»‡n: 20mA<br>- Wavelength: 620-625nm<br>- KÃ­ch thÆ°á»›c: 5mm | 1 | Hiá»ƒn thá»‹ tráº¡ng thÃ¡i "Listening" hoáº·c "Error" |
| 10 | **LED RGB - VÃ ng** | - Äiá»‡n Ã¡p: 2.0-2.2V<br>- DÃ²ng Ä‘iá»‡n: 20mA<br>- Wavelength: 585-595nm<br>- KÃ­ch thÆ°á»›c: 5mm | 1 | Hiá»ƒn thá»‹ tráº¡ng thÃ¡i "Processing" hoáº·c "Waiting" |
| 11 | **LED RGB - Xanh lÃ¡** | - Äiá»‡n Ã¡p: 3.0-3.2V<br>- DÃ²ng Ä‘iá»‡n: 20mA<br>- Wavelength: 515-525nm<br>- KÃ­ch thÆ°á»›c: 5mm | 1 | Hiá»ƒn thá»‹ tráº¡ng thÃ¡i "Connected" hoáº·c "Success" |
| 12 | **LED tráº¡ng thÃ¡i** | - LED Ä‘á» 3mm<br>- Äiá»‡n Ã¡p: 2.0-2.2V<br>- DÃ²ng Ä‘iá»‡n: 20mA | 1 | Hiá»ƒn thá»‹ tráº¡ng thÃ¡i power vÃ  system status |
| 13 | **MAX98357A I2S Audio Amplifier** | - Äiá»‡n Ã¡p: 3.3V-5V<br>- CÃ´ng suáº¥t: 3.2W Class D<br>- Giao tiáº¿p: I2S Digital<br>- Táº§n sá»‘: 8kHz-96kHz<br>- SNR: 100dB | 1 | Khuáº¿ch Ä‘áº¡i Ã¢m thanh tá»« ESP32 Bluetooth A2DP |
| 14 | **Speaker 4Î© 3W** | - Trá»Ÿ khÃ¡ng: 4Î©<br>- CÃ´ng suáº¥t: 3W<br>- Táº§n sá»‘: 100Hz-20kHz<br>- KÃ­ch thÆ°á»›c: 40mm | 1 hoáº·c 2 | PhÃ¡t Ã¢m thanh pháº£n há»“i tá»« AI Assistant |

**Cáº¥u hÃ¬nh I2S Audio System:**
- **I2S Protocol**: Digital audio interface cho cháº¥t lÆ°á»£ng Ã¢m thanh cao
- **Bluetooth A2DP**: Advanced Audio Distribution Profile cho streaming
- **Sample Rate**: 44.1kHz stereo 16-bit (CD quality)
- **Latency**: < 100ms cho real-time interaction
- **Audio Pipeline**: ESP32 â†’ I2S â†’ MAX98357A â†’ Speaker

**Ã nghÄ©a mÃ u sáº¯c LED:**
- **Äá»**: Lá»—i, máº¥t káº¿t ná»‘i, cháº¿ Ä‘á»™ láº¯ng nghe
- **VÃ ng**: Äang xá»­ lÃ½, chá» pháº£n há»“i tá»« AI
- **Xanh**: Káº¿t ná»‘i thÃ nh cÃ´ng, sáºµn sÃ ng
- **LED tráº¡ng thÃ¡i**: Nháº¥p nhÃ¡y khi cÃ³ hoáº¡t Ä‘á»™ng

### D. Linh kiá»‡n há»— trá»£ (Supporting Components)

| STT | TÃªn linh kiá»‡n | ThÃ´ng sá»‘ | Sá»‘ lÆ°á»£ng | Má»¥c Ä‘Ã­ch |
|-----|---------------|----------|----------|----------|
| 13 | **Nguá»“n USB 5V** | Adapter 5V/2A hoáº·c power bank | 1 | Cáº¥p nguá»“n á»•n Ä‘á»‹nh cho há»‡ thá»‘ng |
| 14 | **Tá»¥ Ä‘iá»‡n 100ÂµF** | Electrolytic capacitor 16V | 2 | Lá»c nhiá»…u nguá»“n, á»•n Ä‘á»‹nh Ä‘iá»‡n Ã¡p |
| 15 | **Tá»¥ Ä‘iá»‡n 0.1ÂµF** | Ceramic capacitor | 4 | Bypass capacitor cho IC |
| 16 | **Jumper Wires (Female-Female)** | DÃ¢y jumper 20cm, nhiá»u mÃ u | 1 set | Káº¿t ná»‘i ESP32 vá»›i I2S amplifier |
| 17 | **Connector 3.5mm Jack** | Audio connector (optional) | 1 | Káº¿t ná»‘i tai nghe/loa ngoÃ i |

**Cáº¥u hÃ¬nh Audio Output Options:**
1. **Built-in Speaker**: MAX98357A + 4Î© speaker trá»±c tiáº¿p
2. **External Audio**: 3.5mm jack cho headphones/external speakers  
3. **Bluetooth Speaker**: Káº¿t ná»‘i vá»›i loa Bluetooth external (alternative)

**LÆ°u Ã½ vá» nguá»“n Ä‘iá»‡n:**
- ESP32 hoáº¡t Ä‘á»™ng á»Ÿ 3.3V nhÆ°ng cÃ³ thá»ƒ cáº¥p nguá»“n qua USB 5V
- LCD I2C cáº§n 5V Ä‘á»ƒ hoáº¡t Ä‘á»™ng tá»‘i Æ°u
- Tá»•ng cÃ´ng suáº¥t tiÃªu thá»¥: khoáº£ng 500mA á»Ÿ cháº¿ Ä‘á»™ hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng

## 2.3. SÆ  Äá»’ Káº¾T Ná»I PHáº¦N Cá»¨NG

### 2.3.0. SÆ¡ Ä‘á»“ káº¿t ná»‘i nhá» gá»n (Compact Hardware Diagram)

```
                    ESP32-WROOM-32 DevKit V1
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 [WiFi + Bluetooth]          â”‚
        â”‚   â”Œâ”€â”€â”€â”€â”€â”  Core Components & Audio:         â”‚
        â”‚   â”‚ USB â”‚                                   â”‚
        â”‚   â””â”€â”€â”€â”€â”€â”˜                                   â”‚
        â”‚                                             â”‚
VCC â”€â”€â”€â”€â”¤ VIN                                   GPIO2 â”œâ”€â”€â–º LED Status (Built-in + External)
GND â”€â”€â”€â”€â”¤ GND                                         â”‚
        â”‚                                    GPIO4  â”€â”€â”¼â”€â”€â–º LED Äá» (Red)
Button â”€â”¤ GPIO33                             GPIO18 â”€â”€â”¼â”€â”€â–º LED VÃ ng (Yellow)  
Sound â”€â”€â”¤ GPIO34                             GPIO13 â”€â”€â”¼â”€â”€â–º LED Xanh (Green)
        â”‚                                             â”‚
        â”‚        I2C Bus:                    GPIO21 â”€â”€â”¼â”€â”€â–º SDA (LCD)
        â”‚                                    GPIO22 â”€â”€â”¼â”€â”€â–º SCL (LCD)
        â”‚                                             â”‚
        â”‚        I2S Audio Output:           GPIO14 â”€â”€â”¼â”€â”€â–º I2S SCK (Bit Clock)
        â”‚                                    GPIO15 â”€â”€â”¼â”€â”€â–º I2S WS (Word Select)
        â”‚                                    GPIO25 â”€â”€â”¼â”€â”€â–º I2S SDOUT (Data Out)
        â”‚                                             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  KY-038     â”‚    â”‚ LCD 16x2 I2C â”‚    â”‚ MAX98357A   â”‚
        â”‚ Sound       â”‚    â”‚ (PCF8574)    â”‚    â”‚ I2S Amp +   â”‚
        â”‚ Sensor      â”‚    â”‚ Addr: 0x27   â”‚    â”‚ Speaker     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                Status LED Indicators                     â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚  â”‚   Äá»    â”‚  â”‚    VÃ ng     â”‚  â”‚      Xanh       â”‚     â”‚
    â”‚  â”‚(Listen) â”‚  â”‚ (Response/  â”‚  â”‚ (Connected/BT)   â”‚     â”‚
    â”‚  â”‚         â”‚  â”‚  Audio)     â”‚  â”‚                  â”‚     â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3.1. SÆ¡ Ä‘á»“ káº¿t ná»‘i tá»•ng thá»ƒ chi tiáº¿t

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        MIS SMART ASSISTANT - HARDWARE DIAGRAM                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                         â•‘          ESP32 DevKit V1         â•‘
                         â•‘  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â” â•‘
                         â•‘  â”‚3V3  â”‚GND  â”‚D21  â”‚D22  â”‚D34  â”‚ â•‘
                         â•‘  â”‚     â”‚     â”‚SDA  â”‚SCL  â”‚ IN  â”‚ â•‘
                         â•‘  â””â”€â”€â”¬â”€â”€â”´â”€â”€â”¬â”€â”€â”´â”€â”€â”¬â”€â”€â”´â”€â”€â”¬â”€â”€â”´â”€â”€â”¬â”€â”€â”˜ â•‘
                         â•šâ•â•â•â•â•â”¼â•â•â•â•â•â”¼â•â•â•â•â•â”¼â•â•â•â•â•â”¼â•â•â•â•â•â”¼â•â•â•â•â•
                               â”‚     â”‚     â”‚     â”‚     â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚            â”‚     â”‚     â”‚     â”‚     â”‚             â”‚
                  â”‚      â”Œâ”€â”€â”€â”€â”€â–¼â”€â”   â”‚     â”‚     â”‚     â”‚             â”‚
                  â”‚      â”‚ VCC   â”‚   â”‚     â”‚     â”‚     â”‚             â”‚
                  â”‚ â”Œâ”€â”€â”€â”€â”¤ GND   â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”˜     â”‚     â”‚             â”‚
                  â”‚ â”‚    â”‚ SDA   â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚             â”‚
                  â”‚ â”‚    â”‚ SCL   â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
                  â”‚ â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”´â”€â”€â”              â”‚                               â”‚
    â”‚   LCD I2C 16x2   â”‚              â”‚                               â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚                               â”‚
    â”‚ â”‚MIS Assistantâ”‚  â”‚        â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚ â”‚Ready !!!    â”‚  â”‚        â”‚      KY-038 Sound Sensor      â”‚     â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”   â”‚     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚VCC  â”‚GND  â”‚ AO  â”‚ DO  â”‚   â”‚     â”‚
                                â”‚  â””â”€â”€â”¬â”€â”€â”´â”€â”€â”¬â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”¬â”€â”€â”˜   â”‚     â”‚
                                â””â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”˜     â”‚
                                      â”‚     â”‚           â”‚            â”‚
                                   â”Œâ”€â”€â–¼â”€â”   â”‚           â”‚            â”‚
                                   â”‚3V3 â”‚   â”‚           â”‚            â”‚
                                   â”‚GND â”œâ”€â”€â”€â”˜           â”‚            â”‚
                                   â””â”€â”€â”€â”€â”˜               â”‚            â”‚
                                                        â”‚            â”‚
                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                                              â”‚     GPIO34         â”‚ â”‚
                                              â”‚   (Input Only)     â”‚ â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                                                                     â”‚
        â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
        â•‘                           ESP32 GPIO PINS                               â•‘
        â•‘  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
        â•‘  â”‚ D2  â”‚ D4  â”‚D18  â”‚ D33                                             â”‚  â•‘
        â•‘  â”‚     â”‚     â”‚     â”‚                                                 â”‚  â•‘
        â•‘  â””â”€â”€â”¬â”€â”€â”´â”€â”€â”¬â”€â”€â”´â”€â”€â”¬â”€â”€â”´â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
        â•šâ•â•â•â•â•â”¼â•â•â•â•â•â”¼â•â•â•â•â•â”¼â•â•â•â•â•â”¼â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
              â”‚     â”‚     â”‚     â”‚
              â”‚     â”‚     â”‚     â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â” â”Œâ”€â–¼â”€â” â”Œâ”€â–¼â”€â”   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   [220Î©]  â”‚ â”‚220â”‚ â”‚220â”‚   â”‚   â”‚       Push Button           â”‚
    â”‚     â”Œâ”€â”€â”€â”€â”€â”˜ â”‚Î©  â”‚ â”‚Î©  â”‚   â”‚   â”‚    â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚  â”Œâ”€â”€â–¼â”€â”€â”€â”   â”‚   â”‚ â”‚   â”‚   â”‚   â”‚    â”‚  1  â”‚      3      â”‚    â”‚
    â”‚  â”‚ ğŸŸ¢   â”‚   â”‚   â”‚ â”‚   â”‚   â”‚   â”‚    â”‚     â”‚             â”‚    â”‚
    â”‚  â”‚GREEN â”‚   â”‚   â”‚ â”‚   â”‚   â”‚   â”‚    â””â”€â”€â”¬â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â”‚
    â”‚  â”‚ LED  â”‚   â”‚   â”‚ â”‚   â”‚   â”‚   â”‚       â”‚         â”‚           â”‚
    â”‚  â””â”€â”€â”¬â”€â”€â”€â”˜   â”‚   â”‚ â”‚   â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚     â”‚    â”Œâ”€â”€â–¼â”€â” â”‚ â”‚   â”‚   â”‚           â”‚         â”‚
    â”‚  â”Œâ”€â”€â–¼â”€â”€â” â”‚ğŸ”´  â”‚ â”‚ â”‚   â”‚   â”‚        â”Œâ”€â”€â–¼â”€â”€â”      â”‚
    â”‚  â”‚ GND â”‚ â”‚RED â”‚ â”‚ â”‚   â”‚   â”‚        â”‚GPIO â”‚      â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”˜ â”‚LED â”‚ â”‚ â”‚   â”‚   â”‚        â”‚ 33  â”‚      â”‚
    â”‚          â””â”€â”€â”¬â”€â”˜ â”‚ â”‚   â”‚   â”‚        â””â”€â”€â”€â”€â”€â”˜      â”‚
    â”‚          â”Œâ”€â”€â–¼â”€â” â”‚ â”‚   â”‚   â”‚                     â”‚
    â”‚          â”‚GND â”‚ â”‚ â”‚   â”‚   â”‚                  â”Œâ”€â”€â–¼â”€â”€â”
    â”‚          â””â”€â”€â”€â”€â”˜ â”‚ â”‚   â”‚   â”‚                  â”‚ GND â”‚
    â”‚                 â”‚ â”‚   â”‚   â”‚                  â””â”€â”€â”€â”€â”€â”˜
    â”‚              â”Œâ”€â”€â–¼â”€â–¼â”€â” â”‚   â”‚
    â”‚              â”‚ ğŸŸ¡   â”‚ â”‚   â”‚
    â”‚              â”‚YELLOWâ”‚ â”‚   â”‚
    â”‚              â”‚ LED  â”‚ â”‚   â”‚
    â”‚              â””â”€â”€â”¬â”€â”€â”€â”˜ â”‚   â”‚
    â”‚              â”Œâ”€â”€â–¼â”€â”€â”€â” â”‚   â”‚
    â”‚              â”‚ GND  â”‚ â”‚   â”‚
    â”‚              â””â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
    â”‚                       â”‚   â”‚
    â”‚                    â”Œâ”€â”€â–¼â”€â” â”‚
    â”‚                    â”‚ğŸ”µ  â”‚ â”‚  
    â”‚                    â”‚BLUEâ”‚ â”‚  
    â”‚                    â”‚LED â”‚ â”‚  
    â”‚                    â””â”€â”€â”¬â”€â”˜ â”‚  
    â”‚                    â”Œâ”€â”€â–¼â”€â” â”‚  
    â”‚                    â”‚GND â”‚ â”‚  
    â”‚                    â””â”€â”€â”€â”€â”˜ â”‚  
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              LED STATUS INDICATORS                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŸ¢ GREEN LED (GPIO2)   â†’ Connected/Ready State                                â”‚
â”‚ ğŸ”´ RED LED (GPIO4)     â†’ Listening/Error State                                â”‚
â”‚ ğŸŸ¡ YELLOW LED (GPIO18) â†’ Processing/Waiting State                             â”‚
â”‚ ğŸ”µ BLUE LED (Built-in) â†’ System Status/Activity Indicator                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3.2. SÆ¡ Ä‘á»“ káº¿t ná»‘i chi tiáº¿t tá»«ng module

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DETAILED CONNECTION DIAGRAM                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ESP32 DevKit V1 Pinout vÃ  Káº¿t ná»‘i:

               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚              ESP32 DevKit V1           â”‚
               â”‚                                        â”‚
    3.3V â—„â”€â”€â”€â”€â”€â”¤ 3V3                              VIN â”œâ”€â”€â”€â”€â”€â–º 5V Input
     GND â—„â”€â”€â”€â”€â”€â”¤ GND                              GND â”œâ”€â”€â”€â”€â”€â–º Ground
         â—„â”€â”€â”€â”€â”€â”¤ GPIO13                        GPIO12 â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO12                        GPIO14 â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO14                        GPIO27 â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO27                        GPIO26 â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO26                        GPIO25 â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO25                        GPIO33 â”œâ”€â”€â”€â”€â”€â–º Button Input
         â—„â”€â”€â”€â”€â”€â”¤ GPIO32                        GPIO32 â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO35                        GPIO35 â”œâ”€â”€â”€â”€â”€â–º
    KY-038 â—„â”€â”€â”€â”¤ GPIO34 (Input Only)           GPIO34 â”œâ”€â”€â”€â”€â”€â–º 
         â—„â”€â”€â”€â”€â”€â”¤ GPIO39                         VN/39 â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO36                         VP/36 â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ EN                             GPIO23 â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO23                         GPIO22 â”œâ”€â”€â”€â”€â”€â–º LCD SCL
         â—„â”€â”€â”€â”€â”€â”¤ GPIO22                         GPIO21 â”œâ”€â”€â”€â”€â”€â–º LCD SDA
         â—„â”€â”€â”€â”€â”€â”¤ GPIO1/TX                       GPIO19 â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO3/RX                       GPIO18 â”œâ”€â”€â”€â”€â”€â–º Yellow LED
         â—„â”€â”€â”€â”€â”€â”¤ GPIO21                         GPIO5  â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO19                         GPIO17 â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO18                         GPIO16 â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO5                          GPIO4  â”œâ”€â”€â”€â”€â”€â–º Red LED
         â—„â”€â”€â”€â”€â”€â”¤ GPIO17                         GPIO0  â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO16                         GPIO2  â”œâ”€â”€â”€â”€â”€â–º Green LED
         â—„â”€â”€â”€â”€â”€â”¤ GPIO4                          GPIO15 â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO0                          GPIO8  â”œâ”€â”€â”€â”€â”€â–º
   Green LED â”€â”€â”¤ GPIO2                          GPIO7  â”œâ”€â”€â”€â”€â”€â–º
         â—„â”€â”€â”€â”€â”€â”¤ GPIO15                         GPIO6  â”œâ”€â”€â”€â”€â”€â–º
               â”‚                                        â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Module Connection Details:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      MODULE         â”‚    ESP32 PIN       â”‚    MODULE PIN       â”‚   DESCRIPTION   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚                    â”‚                     â”‚                 â”‚
â”‚  LCD I2C 16x2       â”‚ 3.3V               â”‚ VCC                 â”‚ Power Supply    â”‚
â”‚                     â”‚ GND                â”‚ GND                 â”‚ Ground          â”‚
â”‚                     â”‚ GPIO21 (SDA)       â”‚ SDA                 â”‚ I2C Data        â”‚
â”‚                     â”‚ GPIO22 (SCL)       â”‚ SCL                 â”‚ I2C Clock       â”‚
â”‚                     â”‚                    â”‚                     â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚                    â”‚                     â”‚                 â”‚
â”‚  KY-038 Sound       â”‚ 3.3V               â”‚ VCC                 â”‚ Power Supply    â”‚
â”‚  Sensor             â”‚ GND                â”‚ GND                 â”‚ Ground          â”‚
â”‚                     â”‚ GPIO34 (Input)     â”‚ DO                  â”‚ Digital Output  â”‚
â”‚                     â”‚ Not Connected      â”‚ AO                  â”‚ Analog Output   â”‚
â”‚                     â”‚                    â”‚                     â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚                    â”‚                     â”‚                 â”‚
â”‚  Push Button        â”‚ GPIO33 (Pull-up)   â”‚ Pin 1               â”‚ Signal Input    â”‚
â”‚  (4-pin)            â”‚ GND                â”‚ Pin 3               â”‚ Ground          â”‚
â”‚                     â”‚ Not Connected      â”‚ Pin 2               â”‚ Not Used        â”‚
â”‚                     â”‚ Not Connected      â”‚ Pin 4               â”‚ Not Used        â”‚
â”‚                     â”‚                    â”‚                     â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚                    â”‚                     â”‚                 â”‚
â”‚  LED System         â”‚ GPIO2 â†’ 220Î©       â”‚ Green LED Anode     â”‚ Ready State     â”‚
â”‚                     â”‚ GPIO4 â†’ 220Î©       â”‚ Red LED Anode       â”‚ Error/Listen    â”‚
â”‚                     â”‚ GPIO18 â†’ 220Î©      â”‚ Yellow LED Anode    â”‚ Processing      â”‚
â”‚                     â”‚ GND                â”‚ All LED Cathodes    â”‚ Common Ground   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚                    â”‚                     â”‚                 â”‚
â”‚  MAX98357A I2S Amp  â”‚ GPIO25 (SDOUT)     â”‚ SDOUT               â”‚ Audio Data Out  â”‚
â”‚                     â”‚ GPIO14 (SCK)       â”‚ SCK                 â”‚ Bit Clock       â”‚
â”‚                     â”‚ GPIO15 (WS)        â”‚ WS                  â”‚ Word Select     â”‚
â”‚                     â”‚ 3.3V               â”‚ VCC                 â”‚ Power Supply    â”‚
â”‚                     â”‚ GND                â”‚ GND                 â”‚ Ground          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3.3. Báº£ng GPIO Pin Mapping vÃ  Chá»©c nÄƒng

**Báº£ng káº¿t ná»‘i GPIO ESP32 (Updated from Arduino code):**

| GPIO Pin | Chá»©c nÄƒng | Káº¿t ná»‘i Ä‘áº¿n | Type | Pull-up | Ghi chÃº |
|----------|-----------|-------------|------|---------|---------|
| **GPIO21** | I2C SDA | ChÃ¢n SDA cá»§a LCD I2C | I/O | External | Giao tiáº¿p dá»¯ liá»‡u I2C |
| **GPIO22** | I2C SCL | ChÃ¢n SCL cá»§a LCD I2C | I/O | External | Clock tÃ­n hiá»‡u I2C |
| **GPIO34** | Sound Input | ChÃ¢n DO cá»§a KY-038 | Input Only | No | Cáº£m biáº¿n Ã¢m thanh (chá»‰ Ä‘áº§u vÃ o) |
| **GPIO33** | Button Input | NÃºt nháº¥n (chÃ¢n 1) | I/O | Internal | NÃºt nháº¥n vá»›i pull-up (FIXED pin) |
| **GPIO2** | Status LED | LED Status (Built-in + External) | I/O | Internal | LED tráº¡ng thÃ¡i há»‡ thá»‘ng |
| **GPIO4** | Red LED | LED Äá» (qua R220Î©) | I/O | Internal | Tráº¡ng thÃ¡i Error/Listening |
| **GPIO18** | Yellow LED | LED VÃ ng (qua R220Î©) | I/O | Internal | Tráº¡ng thÃ¡i Processing |
| **GPIO13** | Green LED | LED Xanh (qua R220Î©) | I/O | Internal | Tráº¡ng thÃ¡i Connected/Ready |
| **GPIO14** | I2S SCK | I2S Bit Clock | I/O | No | Bluetooth A2DP Audio Clock |
| **GPIO15** | I2S WS | I2S Word Select | I/O | No | Audio Left/Right Channel Select |
| **GPIO25** | I2S SDOUT | I2S Audio Data Out | I/O | No | Audio data to speakers/amp |
| **3.3V** | Power | VCC cá»§a táº¥t cáº£ module | Power | - | Nguá»“n 3.3V cho há»‡ thá»‘ng |
| **GND** | Ground | GND chung cá»§a táº¥t cáº£ | Ground | - | Ná»‘i Ä‘áº¥t chung |

**ChÃº thÃ­ch quan trá»ng:**
- **I2S Audio**: Pins GPIO14, GPIO15, GPIO25 dÃ nh cho output audio Bluetooth A2DP
- **Button Pin**: ÄÃ£ sá»­a tá»« GPIO0 thÃ nh GPIO33 Ä‘á»ƒ trÃ¡nh xung Ä‘á»™t khi boot
- **LED System**: GPIO13 thay vÃ¬ GPIO18 cho LED Xanh, GPIO18 cho LED VÃ ng
- **Audio Module**: Sá»­ dá»¥ng MAX98357A I2S amplifier Ä‘á»ƒ káº¿t ná»‘i loa

### 2.3.3.1. I2S Audio Configuration vÃ  Bluetooth A2DP Setup

**I2S Interface Connections:**
```
ESP32 Pin    â†’    MAX98357A Pin    â†’    Function
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
GPIO14       â†’    BCLK             â†’    Bit Clock (Audio timing)
GPIO15       â†’    WSEL (LRC)       â†’    Word Select (L/R channel)
GPIO25       â†’    DIN              â†’    Audio Data Input
3.3V         â†’    VDD              â†’    Power Supply
GND          â†’    GND              â†’    Ground
             â†’    GAIN             â†’    Leave floating (9dB gain)
             â†’    SD               â†’    Leave floating (not shutdown)

Speaker Out  â†    SPK+             â†    Positive speaker terminal
Speaker Out  â†    SPK-             â†    Negative speaker terminal
```

**Bluetooth A2DP Configuration trong Arduino:**
```cpp
// I2S Audio pins (from actual Arduino code)
const uint8_t I2S_SCK = 14;     // Audio data bit clock
const uint8_t I2S_WS = 15;      // Audio data left and right clock  
const uint8_t I2S_SDOUT = 25;   // ESP32 audio data output

// Initialize I2S with ESP_I2S.h library
i2s.setPins(I2S_SCK, I2S_WS, I2S_SDOUT);
i2s.begin(I2S_MODE_STD, 44100, I2S_DATA_BIT_WIDTH_16BIT, 
          I2S_SLOT_MODE_STEREO, I2S_STD_SLOT_BOTH);

// Bluetooth A2DP Sink setup
BluetoothA2DPSink a2dp_sink(i2s);
a2dp_sink.start("MIS Assistant");
```

**Audio Pipeline Flow:**
```
Bluetooth Device â†’ ESP32 A2DP â†’ I2S Interface â†’ MAX98357A â†’ Speaker
                   (Receive)    (44.1kHz/16bit)  (Amplify)   (Output)
```

### 2.3.4. SÆ¡ Ä‘á»“ máº¡ch Ä‘iá»‡n chi tiáº¿t (Electrical Schematic)

```
                 ESP32 DevKit V1 Detailed Schematic

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           POWER DISTRIBUTION                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    USB 5V â”€â”¬â”€â–º ESP32 VIN â”€â”€â–º Internal Regulator â”€â”€â–º 3.3V Rail
            â”‚
            â””â”€â–º [Optional] External 3.3V Supply for LCD
            
    3.3V Rail â”€â”€â”¬â”€â”€â”€ LCD VCC
                â”œâ”€â”€â”€ KY-038 VCC  
                â””â”€â”€â”€ Pull-up for Button (Internal)
                
    GND Rail â”€â”€â”€â”¬â”€â”€â”€ LCD GND
                â”œâ”€â”€â”€ KY-038 GND
                â”œâ”€â”€â”€ Button GND
                â””â”€â”€â”€ LED Cathodes (All)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            I2C BUS TOPOLOGY                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    ESP32 GPIO21 (SDA) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º LCD SDA (Data Line)
                         â”‚
                         â””â”€â”€â”€ [4.7kÎ© Pull-up to 3.3V - Internal in LCD Module]
                         
    ESP32 GPIO22 (SCL) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º LCD SCL (Clock Line)
                         â”‚
                         â””â”€â”€â”€ [4.7kÎ© Pull-up to 3.3V - Internal in LCD Module]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DIGITAL INPUT CIRCUITS                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Sound Sensor (KY-038):
    3.3V â”€â”€â–º KY-038 VCC
    GND  â”€â”€â–º KY-038 GND
    ESP32 GPIO34 â—„â”€â”€ KY-038 DO (Digital Output, HIGH when sound detected)
    
    Push Button:
    3.3V â”€â”€â”¬â”€â”€ [10kÎ© Internal Pull-up] 
           â”‚
    ESP32 GPIO33 â—„â”€â”€â”¬â”€â”€ Button Pin 1
                    â”‚
    GND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€ Button Pin 3
    
    Logic: Button pressed = LOW, Released = HIGH

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        LED OUTPUT CIRCUITS                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Green LED (Ready State):
    ESP32 GPIO2 â”€â”€â–º [220Î©] â”€â”€â–º Green LED Anode
                                      â”‚
    GND â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ LED Cathode
    
    Red LED (Error/Listen State):
    ESP32 GPIO4 â”€â”€â–º [220Î©] â”€â”€â–º Red LED Anode
                                     â”‚
    GND â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ LED Cathode
    
    Yellow LED (Processing State):
    ESP32 GPIO18 â”€â”€â–º [220Î©] â”€â”€â–º Yellow LED Anode
                                       â”‚
    GND â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ LED Cathode

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      COMPONENT VALUE CALCULATIONS                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    LED Current Limiting Resistors:
    - ESP32 GPIO Output: 3.3V
    - LED Forward Voltage: ~2.0V (Red/Yellow), ~3.0V (Green)
    - Target Current: 15mA (safe for ESP32 GPIO)
    
    For Red/Yellow LEDs: R = (3.3V - 2.0V) / 0.015A = 87Î© â†’ Use 220Î© (safer)
    For Green LED: R = (3.3V - 3.0V) / 0.015A = 20Î© â†’ Use 220Î© (consistent)
    
    Actual Current with 220Î©:
    - Red/Yellow: (3.3V - 2.0V) / 220Î© = 5.9mA
    - Green: (3.3V - 3.0V) / 220Î© = 1.4mA
```

### 2.3.5. Breadboard Layout vÃ  HÆ°á»›ng dáº«n láº¯p rÃ¡p

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           BREADBOARD LAYOUT DIAGRAM                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     a  b  c  d  e     f  g  h  i  j     a  b  c  d  e     f  g  h  i  j
  1  â—‹  â—‹  â—‹  â—‹  â—‹     â—‹  â—‹  â—‹  â—‹  â—‹   1 â—‹  â—‹  â—‹  â—‹  â—‹     â—‹  â—‹  â—‹  â—‹  â—‹  
  2  â—‹  â—‹  â—‹  â—‹  â—‹     â—‹  â—‹  â—‹  â—‹  â—‹   2 â—‹  â—‹  â—‹  â—‹  â—‹     â—‹  â—‹  â—‹  â—‹  â—‹  
  3  â—‹  â—‹  â—‹  â—‹  â—‹     â—‹  â—‹  â—‹  â—‹  â—‹   3 â—‹  â—‹  â—‹  â—‹  â—‹     â—‹  â—‹  â—‹  â—‹  â—‹  
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  4  â”‚    LCD I2C 16x2 Module      â”‚   4  â”‚      KY-038 Sound Sensor     â”‚
  5  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   5  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  6  â”‚  â”‚  MIS Assistant      â”‚    â”‚   6  â”‚  â”‚   â— Sensitivity     â”‚    â”‚
  7  â”‚  â”‚  Ready !!!          â”‚    â”‚   7  â”‚  â”‚   â— LED Indicator   â”‚    â”‚
  8  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   8  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  9  â”‚ VCC GND SDA SCL             â”‚   9  â”‚ VCC GND  AO  DO             â”‚
 10  â””â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  10  â””â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 11     â”‚   â”‚   â”‚   â”‚                11     â”‚   â”‚       â”‚              
 12     â”‚   â”‚   â”‚   â”‚                12     â”‚   â”‚       â”‚              
 13  â—‹â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â—‹ â—‹     â—‹  13  â—‹â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â—‹ â—‹     â—‹  
 14  â—‹â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â—‹ â—‹     â—‹  14  â—‹â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â—‹ â—‹     â—‹  
 15  â—‹â”€â”€â”‚   â”‚   â”‚   â”‚â”€â”€â”€â”€â—‹ â—‹     â—‹  15  â—‹â”€â”€â”‚   â”‚       â”‚â”€â”€â—‹ â—‹     â—‹  
      â”Œâ”€â”´â”€â” â”‚   â”‚   â”‚                   â”Œâ”€â”´â”€â” â”‚       â”‚              
 16   â”‚3V3â”‚ â”‚   â”‚   â”‚             16    â”‚3V3â”‚ â”‚       â”‚              
      â””â”€â”¬â”€â”˜ â”‚   â”‚   â”‚                   â””â”€â”¬â”€â”˜ â”‚       â”‚              
 17  â—‹â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â—‹ â—‹     â—‹  17  â—‹â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â—‹ â—‹     â—‹  
 18  â—‹â”€â”€â”‚   â”‚   â”‚   â”‚â”€â”€â”€â”€â—‹ â—‹     â—‹  18  â—‹â”€â”€â”‚   â”‚       â”‚â”€â”€â—‹ â—‹     â—‹  
      â”Œâ”€â”´â”€â” â”‚   â”‚   â”‚                   â”Œâ”€â”´â”€â” â”‚       â”‚              
 19   â”‚GNDâ”‚ â”‚   â”‚   â”‚             19    â”‚GNDâ”‚ â”‚       â”‚              
      â””â”€â”¬â”€â”˜ â”‚   â”‚   â”‚                   â””â”€â”¬â”€â”˜ â”‚       â”‚              
 20  â—‹â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â—‹ â—‹     â—‹  20  â—‹â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â—‹ â—‹     â—‹  
 21  â—‹  â”‚   â”‚   â”‚   â”‚    â—‹ â—‹     â—‹  21  â—‹  â”‚   â”‚       â”‚  â—‹ â—‹     â—‹  
      â”Œâ”€â”´â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”               â”Œâ”€â”´â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”
 22   â”‚ESP32 DevKit V1 â”‚          22   â”‚     â”‚       â”‚ â”‚
 23   â”‚                â”‚          23   â”‚ â”Œâ”€â”€â”€â”´â”€â”€â”€â”   â”‚ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 24   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          24   â”‚ â”‚GPIO34 â”‚   â”‚ â”‚   â”‚ Button  â”‚
 25   â”‚ â”‚    CPU     â”‚ â”‚          25   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚   â”‚ â”Œâ”€â”€â”€â”¬â”€â”€â”€â”
 26   â”‚ â”‚   CORE     â”‚ â”‚          26   â”‚             â”‚ â”‚   â”‚ â”‚ 1 â”‚ 3 â”‚
 27   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          27   â”‚             â”‚ â”‚   â”‚ â””â”€â”¬â”€â”´â”€â”¬â”€â”˜
 28   â”‚                â”‚          28   â”‚             â”‚ â””â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”‚
 29   â””â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”˜          29   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
 30  â—‹â”€â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”€â—‹ â—‹     â—‹  30  â—‹ â—‹ â—‹ â—‹ â—‹ â—‹         â”‚   â”‚
       â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚                                     â”‚   â”‚
     21â”‚ â”‚ â”‚ â”‚ â”‚2â”‚4â”‚18â”‚                                     â”‚   â”‚
     SDAâ”‚ â”‚ â”‚ â”‚  â”‚ â”‚  â”‚                                 â”Œâ”€â”€â”€â”´â”€â” â”‚
 31  â—‹â”€â”€â”¼â”€â”¼â”€â”¼â”€â”¼â”€â”€â”¼â”€â”¼â”€â”€â”¼â”€â”€â—‹ â—‹     â—‹  31  â—‹ â—‹ â—‹ â—‹ â—‹ â—‹     â”‚GPIO â”‚ â”‚
       22â”‚ â”‚ â”‚   â”‚ â”‚   â”‚                                â”‚ 33  â”‚ â”‚
     SCLâ”‚ â”‚ â”‚    â”‚ â”‚   â”‚                                â””â”€â”€â”€â”€â”€â”˜ â”‚
 32  â—‹â”€â”€â”¼â”€â”¼â”€â”¼â”€â”€â”€â”€â”¼â”€â”¼â”€â”€â”€â”¼â”€â”€â—‹ â—‹     â—‹  32  â—‹ â—‹ â—‹ â—‹ â—‹ â—‹             â”‚
       GNDâ”‚ â”‚   [R][R] [R]                                      â”‚
 33  â—‹â”€â”€â”€â”€â”¼â”€â”¼â”€â”€â”€220Î©â”€220Î©â”€220Î© â—‹  33  â—‹ â—‹ â—‹ â—‹ â—‹ â—‹         â”Œâ”€â”€â”€â”€â”€â”´â”€â”
 34  â—‹    â”‚ â”‚    â”‚  â”‚   â”‚    â—‹     â—‹  34  â—‹ â—‹ â—‹ â—‹ â—‹ â—‹       â”‚  GND  â”‚
 35  â—‹    â”‚ â”‚   ğŸŸ¢ ğŸ”´  ğŸŸ¡   â—‹     â—‹  35  â—‹ â—‹ â—‹ â—‹ â—‹ â—‹       â””â”€â”€â”€â”€â”€â”€â”€â”˜
 36  â—‹    â”‚ â”‚  LED LED LED  â—‹     â—‹  36  â—‹ â—‹ â—‹ â—‹ â—‹ â—‹  
 37  â—‹â”€â”€â”€â”€â”¼â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â—‹     â—‹  37  â—‹ â—‹ â—‹ â—‹ â—‹ â—‹  
 38  â—‹ â—‹ â—‹â”‚ â”‚ â—‹ â—‹â”‚ â—‹â”‚ â—‹ â”‚â—‹ â—‹ â—‹     â—‹  38  â—‹ â—‹ â—‹ â—‹ â—‹ â—‹  
 39  â—‹ â—‹ â—‹â”‚ â”‚ â—‹ â—‹â”‚ â—‹â”‚ â—‹ â”‚â—‹ â—‹ â—‹     â—‹  39  â—‹ â—‹ â—‹ â—‹ â—‹ â—‹  
 40  â—‹ â—‹ â—‹â””â”€â”´â”€â—‹ â—‹â””â”€â—‹â”´â”€â—‹â”€â”˜â—‹ â—‹ â—‹     â—‹  40  â—‹ â—‹ â—‹ â—‹ â—‹ â—‹  
       Power Rails (+ -)              Power Rails (+ -)

Legend:
ğŸŸ¢ = Green LED (GPIO2)    ğŸ”´ = Red LED (GPIO4)    ğŸŸ¡ = Yellow LED (GPIO18)
[R] = 220Î© Resistor      â—‹ = Breadboard hole      â— = Potentiometer
```

### 2.3.6. HÆ°á»›ng dáº«n láº¯p rÃ¡p tá»«ng bÆ°á»›c

**BÆ°á»›c 1: Chuáº©n bá»‹ breadboard vÃ  nguá»“n Ä‘iá»‡n**
1. Äáº·t ESP32 DevKit V1 vÃ o giá»¯a breadboard (hÃ ng 22-29)
2. Káº¿t ná»‘i power rails: 3.3V vÃ  GND tá»« ESP32 ra cÃ¡c rail nguá»“n

**BÆ°á»›c 2: Láº¯p Ä‘áº·t LCD I2C**
1. Äáº·t LCD I2C module á»Ÿ vá»‹ trÃ­ hÃ ng 4-10, cá»™t a-e
2. Káº¿t ná»‘i dÃ¢y jumper:
   - VCC (LCD) â†’ 3.3V rail
   - GND (LCD) â†’ GND rail  
   - SDA (LCD) â†’ GPIO21 (ESP32)
   - SCL (LCD) â†’ GPIO22 (ESP32)

**BÆ°á»›c 3: Láº¯p Ä‘áº·t cáº£m biáº¿n KY-038**
1. Äáº·t KY-038 á»Ÿ vá»‹ trÃ­ hÃ ng 4-10, cá»™t f-j
2. Káº¿t ná»‘i dÃ¢y jumper:
   - VCC (KY-038) â†’ 3.3V rail
   - GND (KY-038) â†’ GND rail
   - DO (KY-038) â†’ GPIO34 (ESP32)
   - AO (KY-038) â†’ KhÃ´ng káº¿t ná»‘i

**BÆ°á»›c 4: Láº¯p Ä‘áº·t há»‡ thá»‘ng LED**
1. Äáº·t 3 Ä‘iá»‡n trá»Ÿ 220Î© á»Ÿ hÃ ng 33
2. Káº¿t ná»‘i LEDs:
   - LED Xanh: GPIO2 â†’ 220Î© â†’ LED Anode, LED Cathode â†’ GND
   - LED Äá»: GPIO4 â†’ 220Î© â†’ LED Anode, LED Cathode â†’ GND  
   - LED VÃ ng: GPIO18 â†’ 220Î© â†’ LED Anode, LED Cathode â†’ GND

**BÆ°á»›c 5: Láº¯p Ä‘áº·t I2S Audio Module (MAX98357A)**
1. Äáº·t MAX98357A module á»Ÿ vá»‹ trÃ­ riÃªng biá»‡t trÃªn breadboard
2. Káº¿t ná»‘i I2S pins:
   - VDD (MAX98357A) â†’ 3.3V rail
   - GND (MAX98357A) â†’ GND rail
   - BCLK (MAX98357A) â†’ GPIO14 (ESP32)
   - WSEL/LRC (MAX98357A) â†’ GPIO15 (ESP32)
   - DIN (MAX98357A) â†’ GPIO25 (ESP32)
   - GAIN (MAX98357A) â†’ Leave floating (9dB gain)
   - SD (MAX98357A) â†’ Leave floating (enable)
3. Káº¿t ná»‘i speaker:
   - SPK+ (MAX98357A) â†’ Speaker positive terminal
   - SPK- (MAX98357A) â†’ Speaker negative terminal

**BÆ°á»›c 6: Láº¯p Ä‘áº·t nÃºt nháº¥n**
1. Äáº·t nÃºt nháº¥n 4 chÃ¢n á»Ÿ vá»‹ trÃ­ hÃ ng 23-26
2. Káº¿t ná»‘i:
   - Pin 1 (nÃºt) â†’ GPIO33 (ESP32)
   - Pin 3 (nÃºt) â†’ GND rail
   - Enable internal pull-up trong code cho GPIO33

**BÆ°á»›c 7: Kiá»ƒm tra káº¿t ná»‘i**
1. Kiá»ƒm tra táº¥t cáº£ káº¿t ná»‘i nguá»“n (3.3V, GND)
2. Äáº£m báº£o khÃ´ng cÃ³ short circuit
3. Kiá»ƒm tra polarity cá»§a LEDs (chÃ¢n dÃ i = anode, chÃ¢n ngáº¯n = cathode)
4. Verify I2S connections vá»›i Ä‘á»“ng há»“ váº¡n nÄƒng
5. Test continuity cho táº¥t cáº£ GPIO pins

**BÆ°á»›c 8: Upload code vÃ  test**
1. Káº¿t ná»‘i ESP32 vá»›i mÃ¡y tÃ­nh qua USB
2. Upload Arduino code tá»« `hardware/arduino_code/`
3. Má»Ÿ Serial Monitor Ä‘á»ƒ kiá»ƒm tra hoáº¡t Ä‘á»™ng
4. Test tá»«ng chá»©c nÄƒng: LCD, LEDs, Button, Sound Sensor, I2S Audio
5. Test Bluetooth A2DP báº±ng cÃ¡ch pair vá»›i smartphone vÃ  phÃ¡t nháº¡c

**Audio Testing Procedure:**
1. Enable Bluetooth trÃªn smartphone
2. TÃ¬m kiáº¿m "MIS Assistant" trong danh sÃ¡ch Bluetooth devices
3. Pair vÃ  connect vá»›i ESP32
4. PhÃ¡t nháº¡c tá»« smartphone - Ã¢m thanh sáº½ ra tá»« speaker
5. Check Serial Monitor Ä‘á»ƒ xem Bluetooth connection status
6. Test audio quality vÃ  volume levels
